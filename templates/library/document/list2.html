{% load i18n %}

{% block breadcrumb %}
<li class="dropdown" id="dropdown">
  <a href="{% url "index" %}" class="dropdown-toggle navbar-brand" data-toggle="dropdown">{% trans "My Collections" %}</a>
</li> 
{% endblock %}

{% block content %}

<form action="{% url 'library:document-list' col_id %}" method="get">
  <label for="search">
    Search: <input id="search" name="search" type="search">
  </label>
  {{ form.sort_by.label_tag }} {{ form.sort_by }}
</form>

{% if search %}
{% blocktrans count counter=item_count %}
Found one result for <span class="">{{ search }}</span>
{% plural %}
Found {{ counter }} results for {{ search }}
{% endblocktrans %}
{% endif %}

<style>
 .img {
   display: inline-block;
   height: 120px;
 }
</style>

<div class="container">
  {% for item in items %}
  <div class="media">
    <div class="media-left">
      <img class="img" src="{{ item.thumb_url }}"/>
    </div>
    <div class="media-body">
      <h4 class="media-heading">{{ item.name }} [no such thing as name?]</h4>
      {% if item.author %}<p>{{ item.author }}</p>{%endif%}
      {% if item.genre %}<p>{{ item.genre }}</p>{%endif%}
      <p><a href="{% url 'library:collection-detail' item.id %}">{{ item.title }}</a></p>

      <p><a href="{% url 'library:document-list' item.id %}">View {{ item.page_count }} page{{ item.page_count|pluralize }}</a></p>
    </div>
  </div>
  {% endfor %}
</div>

{% if is_paginated %}
<div class="pagination">
  <span class="step-links">
    {% if page.has_previous %}
    <a href="?page=1">&laquo; first</a>
    <a href="?page={{ page.previous_page_number }}">previous</a>
    {% endif %}

    <span class="current">
      Page {{ page.number }} of {{ page.paginator.num_pages }}.
    </span>

    {% if page.has_next %}
    <a href="?page={{ page.next_page_number }}">next</a>
    <a href="?page={{ page.paginator.num_pages }}">last &raquo;</a>
    {% endif %}
  </span>
</div>
{% endif %}

{{ time_elapsed }}ms

{% endblock %}
